<div class="content-box" id="content2">
    <div class="container">
        <div class="TranscInput">
            <div class="search-bar">
                <input type="text" placeholder=" Search...">
                <span class="search-icon">
                    <img src="./Images/Search.svg" alt="Search Icon" width="20" height="20">
                </span>
            </div>
            <button class="sort-btn">
                <img src="./Images/Sort.svg" alt="Icon Before" width="20" height="20"> <!-- Icon before text -->
                Sort By
                <img src="./Images/vec.svg" alt="Icon After" width="18" height="18"> <!-- Icon after text -->
            </button>
            <button class="filter-btn">
                <img src="./Images/Filter_alt_fill.svg" alt="Icon Before" width="20" height="20"> <!-- Icon before text -->
                Filter By
                <img src="./Images/Expand_down.svg" alt="Icon After" width="18" height="18"> <!-- Icon after text -->
            </button>
        </div>

        <div id="td1" class="Borrowbox">
            <div class="Borrbox Bglobal">
                <img src="./Images/FourthWing.png" alt="Book one" id="book1">
                <div class="book-details">
                    <p id="btitle">Fourth Wing</p>
                    <p class="author">Rebecca Yarros</p>
                </div>
                <div class="Borrowed-total">
                    <p id="Total">Total Borrowed: 50</p>
                </div>
                <div class="viewbtn">
                    <a href="javascript:void(0);" class="view-borrowers" onclick="toggleDropdown(event)">View Borrowers</a>
                </div>
            </div>
            <div class="dropdown-content">
                <table>
                    <tr>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Due Date</th>
                        <th>Details</th>
                    </tr>
                    <tr>
                        <td>0001</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0002</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0003</td>
                        <td>John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                </table>
            </div>
           

            <div class="Borrbox Bglobal">
                <img src="./Images/MokingBird.png" alt="Book one" id="book1">
                <div class="book-details">
                    <p id="btitle">To Kill A MockingBird</p>
                    <p class="author">Harper Lee</p>
                </div>
                <div class="Borrowed-total">
                    <p id="Total">Total Borrowed: 50</p>
                </div>
                <div class="viewbtn">
                    <a href="javascript:void(0);" class="view-borrowers" onclick="toggleDropdown(event)">View Borrowers</a>
                </div>
            </div>
            <div class="dropdown-content">
                <table>
                    <tr>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Due Date</th>
                        <th>Details</th>
                    </tr>
                    <tr>
                        <td>0001</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0002</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0003</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                </table>
            </div>
            <div class="Borrbox Bglobal">
                <img src="./Images/hungerG.png" alt="Book one" id="book1">
                <div class="book-details">
                    <p id="btitle">The Hunger Games</p>
                    <p class="author">Danielle L. Jensen</p>
                </div>
                <div class="Borrowed-total">
                    <p id="Total">Total Borrowed: 50</p>
                </div>
                <div class="viewbtn">
                    <a href="javascript:void(0);" class="view-borrowers" onclick="toggleDropdown(event)">View Borrowers</a>
                </div>
            </div>
            <div class="dropdown-content ">
                <table>
                    <tr>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Due Date</th>
                        <th>Details</th>
                    </tr>
                    <tr>
                        <td>0001</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="45" height="45">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0002</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0003</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                </table>
            </div>

            <div class="Borrbox Bglobal">
                <img src="./Images/hungerG.png" alt="Book one" id="book1">
                <div class="book-details">
                    <p id="btitle">The Hunger Games</p>
                    <p class="author">Danielle L. Jensen</p>
                </div>
                <div class="Borrowed-total">
                    <p id="Total">Total Borrowed: 50</p>
                </div>
                <div class="viewbtn">
                    <a href="javascript:void(0);" class="view-borrowers" onclick="toggleDropdown(event)">View Borrowers</a>
                </div>
            </div>
            <div class="dropdown-content last-content ">
                <table>
                    <tr>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Due Date</th>
                        <th>Details</th>
                    </tr>
                    <tr>
                        <td>0001</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0002</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                    <tr>
                        <td>0003</td>
                        <td><img class="Avatar" src="./Images/Avatar.svg" alt="book" width="40" height="40">John Doe</td>
                        <td>2024-10-10</td>
                        <td class="act"><a href="#">View More</a></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    
    <script>
        // Wait for the DOM to load
        document.addEventListener('DOMContentLoaded', () => {
    
            // Function to toggle the visibility of the dropdown
            function toggleDropdown(event) {
                event.stopPropagation();
    
                const borrbox = event.target.closest('.Borrbox'); // Get the parent .Borrbox
                const dropdown = borrbox.nextElementSibling; // Get the .dropdown-content below the .Borrbox
    
                // Toggle by adding/removing the display property
                if (dropdown.style.display === 'none' || dropdown.style.display === '') {
                    dropdown.style.display = 'block'; // Show dropdown
                } else {
                    dropdown.style.display = 'none'; // Hide dropdown
                }
            }
    
            // Add the click event listener to each "View Borrowers" link
            document.querySelectorAll('.view-borrowers').forEach(link => {
                link.addEventListener('click', toggleDropdown);
            });
    
            // Close the dropdown if the user clicks outside of it
            document.addEventListener('click', function(event) {
                // Loop through all dropdowns
                document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                    const borrbox = dropdown.previousElementSibling; // The corresponding .Borrbox
    
                    // Close dropdown if the click was outside of both the dropdown and its corresponding .Borrbox
                    if (!borrbox.contains(event.target) && !dropdown.contains(event.target)) {
                        dropdown.style.display = 'none'; // Hide the dropdown
                    }
                });
            });
        });
    </script>
</div>
